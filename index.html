<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="The hippo is very dangerous when provoked">
    <meta name="keywords" content="Liptopus,lip,lipus,liposus">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <base href="https://Liptopus.com">
    <title>Rita - Draw and Create</title>
    <style>
        /* General Styling */
        body {
            margin: 0;
            font-family: 'Roboto', Arial, sans-serif;
            background-color: #0b0b0e8a;
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            overflow-x: hidden; /* Prevent horizontal scrolling */
        }


        .container {
            flex: 1; /* Allow the container to grow and push the footer to the bottom */
            max-width: 1200px; /* Reduced site width */
            width: 100%;
            margin: auto;
        }

        /* Header Styling */
        .header {
            background: linear-gradient(90deg, #282c34, #3a3f4b); /* Gradient header */
            color: #61dafb; /* Light blue text */
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 98%;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
            position: fixed;
            top: 0;
            left: 0;
            z-index: 3;
        }

        .header h1 {
            font-size: 28px;
            margin: 0;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .header-buttons {
            display: flex;
            gap: 15px; /* Space between buttons */
        }

        /* Menu Button Styling */
        .menu-button,
        #Payment {
            background-color: #61dafb; /* Light blue */
            color: #282c34; /* Dark grey text */
            border: none;
            padding: 12px 25px;
            font-size: 16px;
            cursor: pointer;
            border-radius: 5px;
            transition: background-color 0.3s ease, transform 0.2s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
        }

        .menu-button:hover,
        #Payment:hover {
            background-color: #4cafeb; /* Slightly darker blue */
            transform: scale(1.1); /* Slight zoom effect */
        }

        .menu-button:active,
        #Payment:active {
            background-color: #3a9fd9; /* Even darker blue */
        }

        /* Menu List Styling */
        .menu-list {
            display: none; /* Hidden by default */
            flex-direction: column;
            position: absolute;
            top: 70px;
            right: 30px;
            background-color: #282c34;
            border: 1px solid #61dafb;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.5);
            z-index: 4;
        }

        .menu-list a {
            color: white;
            text-decoration: none;
            padding: 10px 20px;
            border-radius: 5px;
            transition: background-color 0.3s ease, transform 0.2s ease;
        }

        .menu-list a:hover {
            background-color: #61dafb;
            color: #282c34;
            transform: scale(1.05);
        }

        /* Canvas Styling */
        canvas {
            background-color: white;
            margin-top: 110px; /* Space below the header */
            border: 2px solid #61dafb;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
            width: 100%; /* Match the container width */
            height: 700px; /* Fixed height */
        }

        /* Button Styling */
        button {
            margin-top: 20px;
            padding: 12px 25px;
            font-size: 16px;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            background-color: #61dafb;
            color: #282c34;
            transition: background-color 0.3s ease, transform 0.2s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
        }

        button:hover {
            background-color: #4cafeb;
            transform: scale(1.1);
        }

        button:active {
            background-color: #3a9fd9;
        }

        /* Color Palette Styling */
        .color-palette {
            display: flex;
            justify-content: center;
            margin: 30px 0;
        }

        .color-palette button {
            width: 50px;
            height: 50px;
            margin: 0 15px;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
            transition: transform 0.2s ease, box-shadow 0.3s ease;
        }

        .color-palette button:hover {
            transform: scale(1.2);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.6);
        }

        /* Timelapse Button Styling */
        .timelapse-button {
            display: block;
            margin: 30px auto;
            padding: 12px 25px;
            font-size: 18px;
            cursor: pointer;
            border: none;
            border-radius: 8px;
            background-color: #61dafb;
            color: #282c34;
            transition: background-color 0.3s ease, transform 0.2s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
        }

        .timelapse-button:hover {
            background-color: #4cafeb;
            transform: scale(1.1);
        }

        .timelapse-button:active {
            background-color: #3a9fd9;
        }

        /* PayPal Button Container */
        #paypal-button-container {
            margin: 20px auto;
            text-align: center;
        }

        /* Footer Styling */
        .footer {
            background-color: #282c34;
            color: #61dafb;
            text-align: center;
            padding: 10px;
            font-size: 14px;
            box-shadow: 0 -4px 8px rgba(0, 0, 0, 0.4);
            z-index: 2;
            width: 100%;
        }

        .footer a {
            color: #61dafb;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .footer a:hover {
            color: #4cafeb;
        }

        /* Dim Effect */
        .dimmed {
            background-color: rgba(0, 0, 0, 0.5);
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 4;
        }

        /* Toolbar Styling */
        .toolbar {
            position: relative; /* Ensure it stays above the footer */
            display: flex;
            bottom: 0;
            justify-content: center;
            align-items: center;
            padding: 10px;
            background-color: #2c1b1be8;
            box-shadow: 0 -4px 8px rgba(0, 0, 0, 0.4);
            z-index: 3;
        }

        .toolbar button {
            margin: 0 10px;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            background-color: #383838;
            color: #ffffff;
            transition: background-color 0.3s ease, transform 0.2s ease;
            box-shadow: 0 px 6px rgba(255, 255, 255, 0.3);
            border: #ffffff;
        }
        
        .pa button {
            margin: 0 10px;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            background-color: #61dafb;
            color: #282c34;
            transition: background-color 0.3s ease, transform 0.2s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
        }

        .toolbar button:hover {
            background-color: #4cafeb;
            transform: scale(1.1);
        }

        .toolbar button:active {
            background-color: #3a9fd9;
        }

        .toolbar.hidden {
            display: none;
        }

        /* Modal Styling */
        .modal {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #282c34;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
            z-index: 5;
            text-align: center;
            color: white;
        }

        .modal h2 {
            margin-bottom: 20px;
        }

        .modal button {
            margin-top: 20px;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            background-color: #61dafb;
            color: #282c34;
            transition: background-color 0.3s ease, transform 0.2s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
        }

        .modal button:hover {
            background-color: #4cafeb;
            transform: scale(1.1);
        }

        .modal button:active {
            background-color: #3a9fd9;
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Rita - Draw and Create</h1>
            <div class="header-buttons">
                <button class="menu-button" onclick="toggleMenu()">Menu</button>
                <button id="Payment">1$ to draw</button>
            </div>
        </div>

        <canvas id="mainCanvas" width="1500" height="800"></canvas>
    </div>

    <div class="toolbar" id="toolbar">
        <button onclick="setBrush('small')">Small Brush</button>
        <button onclick="setBrush('medium')">Medium Brush</button>
        <button onclick="setBrush('large')">Large Brush</button>
        <button style="background-color: black;" onclick="setColor('#000')"></button>
        <button style="background-color: red;" onclick="setColor('#f00')"></button>
        <button style="background-color: green;" onclick="setColor('#0f0')"></button>
        <button style="background-color: blue;" onclick="setColor('#00f')"></button>
        <button style="background-color: yellow;" onclick="setColor('#ff0')"></button>
        <button id="clearCanvasButton">Clear Canvas</button>
    </div>



    <!-- Dimmed Background -->
    <div class="dimmed hidden" id="dimmedBackground"></div>

    <!-- Modal -->
    <div class="modal hidden" id="paymentModal">
        <h2>Unlock Drawing Features</h2>
        <p>Pay 1$ to unlock advanced drawing tools.</p>
        <div id="paypal-container"></div>
        <button onclick="closeModal()">Cancel</button>
    </div>

    <script>
        const paymentButton = document.getElementById('Payment');
        const dimmedBackground = document.getElementById('dimmedBackground');
        const paymentModal = document.getElementById('paymentModal');

        // Open the modal
        paymentButton.addEventListener('click', () => {
            dimmedBackground.classList.remove('hidden');
            paymentModal.classList.remove('hidden');
        });

        // Close the modal
        function closeModal() {
            dimmedBackground.classList.add('hidden');
            paymentModal.classList.add('hidden');
        }

        // PayPal Button Integration
        paypal.Buttons({
            createOrder: function(data, actions) {
                return actions.order.create({
                    purchase_units: [{
                        amount: {
                            value: '1.00' // Set the price for permission
                        }
                    }]
                });
            },
            onApprove: function(data, actions) {
                return actions.order.capture().then(function(details) {
                    alert('Payment successful! You now have permission to draw.');
                    closeModal(); // Close the modal after successful payment
                });
            },
            onError: function(err) {
                console.error('PayPal payment error:', err);
                alert('Payment failed. Please try again.');
            }
        }).render('#paypal-container'); // Render the PayPal button inside the modal

        // Toggle menu visibility
        function toggleMenu() {
            const menuList = document.getElementById('menuList');
            const dimmedOverlay = document.querySelector('.dimmed');
            if (menuList.style.display === 'block') {
                menuList.style.display = 'none';
                if (dimmedOverlay) dimmedOverlay.remove();
            } else {
                menuList.style.display = 'block';
                const overlay = document.createElement('div');
                overlay.classList.add('dimmed');
                overlay.onclick = () => toggleMenu();
                document.body.appendChild(overlay);
            }
        }

        // Canvas.js content
        const canvas = document.getElementById('mainCanvas');
        const ctx = canvas.getContext('2d');
        canvas.width = body.clientWidth;
        canvas.height = body.clientHeight;

        // Variables to track drawing state
        let isDrawing = false;
        let lastX = 0;
        let lastY = 0;
        let currentColor = '#000'; // Default color
        const snapshots = []; // Array to store canvas snapshots
        let hasPermission = false; // Permission state
        let currentBrushSize = 5;

        // Function to set the drawing color
        function setColor(color) {
            if (!hasPermission) {
                alert("You don't have permission to draw!");
                return;
            }
            currentColor = color;
        }

        // Function to set the brush size
        function setBrush(size) {
            if (!hasPermission) {
                alert("You don't have permission to use this feature!");
                return;
            }
            currentBrushSize = size === 'small' ? 2 : size === 'medium' ? 5 : 10;
        }

        // Function to start drawing
        canvas.addEventListener('mousedown', (e) => {
            if (!hasPermission) {
                alert("You don't have permission to draw!");
                return;
            }
            isDrawing = true;
            [lastX, lastY] = [e.offsetX, e.offsetY];
        });

        // Function to stop drawing
        canvas.addEventListener('mouseup', () => (isDrawing = false));
        canvas.addEventListener('mouseout', () => (isDrawing = false));

        // Function to draw on the canvas
        canvas.addEventListener('mousemove', (e) => {
            if (!isDrawing || !hasPermission) return;
            ctx.beginPath();
            ctx.moveTo(lastX, lastY);
            ctx.lineTo(e.offsetX, e.offsetY);
            ctx.strokeStyle = currentColor; // Use the selected color
            ctx.lineWidth = currentBrushSize; // Set the line width
            ctx.stroke();
            [lastX, lastY] = [e.offsetX, e.offsetY];
        });

        // Clear canvas functionality
        const clearButton = document.getElementById('clearCanvasButton');
        clearButton.addEventListener('click', () => {
            if (!hasPermission) {
                alert("You don't have permission to clear the canvas!");
                return;
            }
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            snapshots.length = 0; // Clear snapshots
        });

        // Capture canvas snapshots at regular intervals
        setInterval(() => {
            if (isDrawing) {
                snapshots.push(canvas.toDataURL());
            }
        }, 100); // Capture every second

        // Play timelapse
        const timelapseButton = document.getElementById('timelapseButton');
        timelapseButton.addEventListener('click', () => {
            let index = 0;
            const interval = setInterval(() => {
                if (index >= snapshots.length) {
                    clearInterval(interval);
                    return;
                }
                const img = new Image();
                img.src = snapshots[index];
                img.onload = () => {
                    ctx.clearRect(0, 0, canvas.width, canvas.height);
                    ctx.drawImage(img, 0, 0);
                };
                index++;
            }, 5); // Display each snapshot for 500ms
        });

        // Permission button functionality
        const Payment = document.getElementById('Payment');
        Payment.addEventListener('click', () => {
            hasPermission = !hasPermission;
            toolbar.classList.toggle('hidden', !hasPermission);
            alert(hasPermission ? "You now have permission to draw!" : "Your permission has been revoked!");
        });

        // PayPal button integration
        paypal.Buttons({
            createOrder: function(data, actions) {
                return actions.order.create({
                    purchase_units: [{
                        amount: {
                            value: '1.00' // Set the price for permission
                        }
                    }]
                });
            },
            onApprove: function(data, actions) {
                return actions.order.capture().then(function(details) {
                    alert('Payment successful! You now have permission to draw.');
                    hasPermission = true; // Grant permission after successful payment
                });
            },
            onError: function(err) {
                console.error('PayPal payment error:', err);
                alert('Payment failed. Please try again.');
            }
        }).render('#paypal-container'); // Render the PayPal button inside the modal
    </script>
    <script src="https://www.paypal.com/sdk/js?client-id=BAAGlDCEODWi_6n3lK1J9LP4sGk7SNdenQSVOh3041NvTjv4_gXXM74gy9kZeyAeQNbPIziaTWeDr3OQtc&components=hosted-buttons&disable-funding=venmo&currency=EUR"></script>
    <div class="footer">
        <p>&copy; 2025 Rita - Draw and Create. All rights reserved. | <a href="#privacy">Privacy Policy</a></p>
    </div>
</body>
</html>
